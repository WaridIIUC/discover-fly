<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Booking</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- font awesome  -->
    <link rel="stylesheet" href="css/all.min.css">
    <!-- Stylesheet -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <!--Header and Menu Section-->
    <header class="container">
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="#">Contact</a></li>
                <li><a class="active" href="#">Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <!--Booking Section-->
    <main class="main-content container">
        <div class="booking-form">
            <h3>Booking Flights</h3>
            <div class="input-group">
                <label for="">Flying From</label>
                <input class="inp-style" type="text" name="" placeholder="Dhaka, Bangladesh" value="Dhaka, Bangladesh">
            </div>
            <div class="input-group">
                <label for="">Flying To</label>
                <input class="inp-style" type="text" name="" placeholder="New York, United States"
                    value="New York, United States">
            </div>
            <div class="inputs">
                <div class="input-group">
                    <label" for="">Departure</label>
                        <input class="inp-style" type="date" name="">
                </div>
                <div class="input-group">
                    <label for="">Return</label>
                    <input class="inp-style" type="date" name="">
                </div>
            </div>
            <div class="input-group f-class">
                <div class="input-1st-half">
                    <label for="">First Class ($150)</label>
                    <input id="first-class-ticket-quantity" class="inp-style inp-width" type="number" name="" value="0">
                </div>
                <div class="plus-minus-btn d-flex">
                    <button id="first-class-plus-button" class="btn btn-success"><i class="fas fa-plus"></i></button>
                    <button id="first-class-minus-button" class="btn btn-danger"><i class="fas fa-minus"></i></button>
                </div>
            </div>
            <div class="input-group f-class">
                <div class="input-1st-half">
                    <label for="">Economy ($100)</label>
                    <input id="economy-class-ticket-quantity" class="inp-style inp-width" type="number" name=""
                        value="0">
                </div>
                <div class="plus-minus-btn d-flex">
                    <button id="economy-class-plus-button" class="btn btn-success"><i class="fas fa-plus"></i></button>
                    <button id="economy-class-minus-button" class="btn btn-danger"><i class="fas fa-minus"></i></button>
                </div>
            </div>
            <div class="calculations">
                <div class="amount">
                    <div class="left">
                        <p>Subtotal</p>
                    </div>
                    <div class="right">
                        <p>$<span id="subtotal-amount">00</span></p>
                    </div>
                </div>
                <div class="amount">
                    <div class="left">
                        <p>Charge 10% VAT</p>
                    </div>
                    <div class="right">
                        <p>$<span id="vat-amount">00</span></p>
                    </div>
                </div>
                <hr>
                <div class="amount">
                    <div class="left">
                        <h4>Total</h4>
                    </div>
                    <div class="right">
                        <p>$<span id="total-amount">00</span></p>
                    </div>
                </div>
            </div>
            <button id="book-now-button" class="btn-style" data-toggle="modal" data-target="#exampleModalCenter"><i
                    class="fas fa-plane-departure"></i> Book Now</button>
        </div>

        <div class="booking-content container">
            <h1>discover <br> around the world</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicingelit. Provident voluptatibus quam fuga laborumalias
                veniam libero autem quasi maxime ullam vero nama imi dolor, architecto ab facilis eaque deserunt nobise
                voluptatibus quam</p>
        </div>
        </section>

        <!-- bootstrap Modal popup when Book Now button clicked -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div style="height: 500px;">
                        <div class="modal-header">
                            <h5 class="modal-title" id="modalTitle">Booked Successfully</h5>
                        </div>
                        <div id="modal-details">
                        <div class="modal-body">
                            <p>Customer Name: Md. Warid Bin Azad</p>
                            <p>Flying From: Dhaka, Bangladesh</p>
                            <p>Flying to: New York, United States</p>
                        </div>
                        <div class="modal-body">
                            <h6 class="text-center">Ticket Details</h6>
                            <p>First Class Ticket = <span id="first-class-total-ticket-modal-data"></span> X $150</span>
                                = $<span id="first-class-ticket-cost-modal-data"></span></p>
                            <p>Economy Class Ticket = <span id="economy-class-total-ticket-modal-data"></span> X
                                $100</span> = $<span id="economy-class-ticket-cost-modal-data"></span></p>
                            <p>Subtotal = $<span id="subtotal-modal-data"></span></p>
                            <p>Vat (10%) = $<span id="vat-amount-modal-data"></span></p>
                            <h4>Total = $<span id="total-modal-data"></span></h4>
                        </div>
                    </div>
                    </div>
                    <div class="modal-footer">
                        <button id="close-button" type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        </div>


        <!-- script -->
        <script>

            // this function is used for increase or decrease ticket quantity
            function handleTicketQuantityChange(counter, ticketClass) {
                const ticketInput = document.getElementById(ticketClass);   // ticketClass get id name of first/economy class
                const ticketQuantity = parseInt(ticketInput.value);         // ticketQuantity get current number of ticket on input
                const ticketNewQuantity = ticketQuantity + parseInt(counter); // counter is used for increase/decrease. 1 for increase, -1 for decrease 
                if (ticketNewQuantity >= 0)                                  // check ticketQuantity is less than 0 or not 
                {
                    ticketInput.value = ticketNewQuantity;
                }
                calculateTotal();           // call calculate function for calculate subtotal, vat, total
            }

            // this function is used for calculate subtotal, vat, total
            function calculateTotal() {
                const firstClassTicketQuantity = getTicketInputValue("first-class-ticket-quantity");   // call getTicketInputValue function for get first class ticket quantity 
                const economyClassTicketQuantity = getTicketInputValue("economy-class-ticket-quantity"); // call getTicketInputValue function for get economy class ticket quantity
                const subtotal = firstClassTicketQuantity * 150 + economyClassTicketQuantity * 100;
                document.getElementById("subtotal-amount").innerText = subtotal;        // display subtotal amount
                const vatAmount = subtotal * 0.1;                                       // calculate 10% vat
                document.getElementById("vat-amount").innerText = vatAmount;            // display vat amount
                const total = subtotal + vatAmount;                                     // calculate total
                document.getElementById("total-amount").innerText = total;              // display total
                displayBookingInfo(firstClassTicketQuantity, economyClassTicketQuantity, subtotal, vatAmount, total) // pass data to display modal details
            }

            function getTicketInputValue(ticketClass) {
                return parseInt(document.getElementById(ticketClass).value);            // return ticketQuantity 
            }

            const firstClassPlusButton = document.getElementById("first-class-plus-button");
            firstClassPlusButton.addEventListener("click", function () {
                handleTicketQuantityChange(1, "first-class-ticket-quantity");  // increase first class ticket quantity
            })

            const firstClassMinusButton = document.getElementById("first-class-minus-button");
            firstClassMinusButton.addEventListener("click", function () {
                handleTicketQuantityChange(-1, "first-class-ticket-quantity"); // decrease first class ticket quantity
            })

            const economyClassPlusButton = document.getElementById("economy-class-plus-button");
            economyClassPlusButton.addEventListener("click", function () {
                handleTicketQuantityChange(1, "economy-class-ticket-quantity"); // increase economy class ticket quantity
            })

            const economyClassMinusButton = document.getElementById("economy-class-minus-button");
            economyClassMinusButton.addEventListener("click", function () {
                handleTicketQuantityChange(-1, "economy-class-ticket-quantity"); // decrease economy class ticket quantity
            })

            const bookNowButton = document.getElementById("book-now-button");   // book now button clicked
            bookNowButton.addEventListener("click", function () {
                calculateTotal();
            })

            const closeButton = document.getElementById("close-button");   // close button on modal
            closeButton.addEventListener("click", function(){
                location.reload();     // reload page after booked and close
            })

            //this function is used for display a modal when user click Book now button
            function displayBookingInfo(firstClassTicketQuantity, economyClassTicketQuantity, subtotal, vatAmount, total) {
                if ( total > 0) {         // check user select or increase any ticket number or not
                    document.getElementById("modal-details").style.visibility = "visible";    // visible if user select any ticket
                    document.getElementById("modalTitle").innerText = "Booked Successfully";  
                    document.getElementById("modalTitle").style.color = "green";
                    // these below lines are used display modal data
                    document.getElementById("first-class-total-ticket-modal-data").innerText = firstClassTicketQuantity;
                    document.getElementById("first-class-ticket-cost-modal-data").innerText = firstClassTicketQuantity * 150;
                    document.getElementById("economy-class-total-ticket-modal-data").innerText = economyClassTicketQuantity;
                    document.getElementById("economy-class-ticket-cost-modal-data").innerText = economyClassTicketQuantity * 100;
                    document.getElementById("subtotal-modal-data").innerText = subtotal;
                    document.getElementById("vat-amount-modal-data").innerText = vatAmount;
                    document.getElementById("total-modal-data").innerText = total;
                }
                else {
                    document.getElementById("modalTitle").innerText = "Please select any class ticket first";
                    document.getElementById("modalTitle").style.color = "red";
                    document.getElementById("modal-details").style.visibility = "hidden"; //hide if there is no ticket select/increase ticket number
                }
            }

        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
            crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
</body>

</html>